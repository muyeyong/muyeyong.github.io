---
title: CSS-定位
top: false
cover: false
toc: true
mathjax: true
date: 2020-04-27 14:19:35
password:
summary:
tags: CSS基础
categories: CSS
---

# CSS-定位

## 为什么需要定位？

实现标准流和浮动都无法实现的效果。浮动可以让多个块级盒子一行没有缝隙排列显示，经常用于横向排列盒子。定位则是可以让盒子自由的在某个盒子内移动位置或固定到某个位置，并且可以压住其他盒子。

## 定位的组成

> 将盒子固定在某个位置

定位 = 定位模式 + 边偏移

定位模式用于指定一个元素在文档中的定位方式。边偏移则决定该元素的最终位置。

### 定位模式

定位模式决定元素的定位方式，它通过CSS的position属性来设置，其值可以分为四个：

| 值       | 语义     |
| -------- | -------- |
| static   | 静态定位 |
| relative | 相对定位 |
| absolute | 绝对定位 |
| fixed    | 固定定位 |

### 边偏移

边偏移就是定位盒子移动的最终位置。有top、bottom、left 和 right 4个属性。

| 属性   | 语义                                 |
| ------ | ------------------------------------ |
| top    | 顶端偏移量，相对其父元素上边线的距离 |
| bottom | 底部偏移量，相对其父元素下边线的距离 |
| left   | 左侧偏移量，相对其父元素左边线的距离 |
| right  | 右侧偏移量，相对其父元素右边线的距离 |

## 定位

## 静态定位（static）

静态定位是元素的默认定位方式，无定位的意思。

语法：

```
选择器 { position: static;}		
```

+ 静态定位按照标准流特性摆放位置，它没有边偏移
+ 静态定位在布局中很少使用

### 相对定位（relative）

相对定位是元素在移动位置的时候，是相对于它的原来位置来说的。

语法：

```
选择器 {position: relative;}
```

相对定位的特点：

1. 它相对于自己原来的位置来移动的
2. 原来在标准流的位置继续占有，后面的盒子任然以标准流的方式对待它（不脱标，继续保留原来的位置）

最典型的应用是给绝对定位当`爹` 

没有使用定位前：

![](Snipaste_2020-07-09_16-14-14.png)

使用了定位：

![](Snipaste_2020-07-09_16-16-26.png)

虽然 div1 离开了最初的位置，但是 div2 没有到改变自己的位置，div1的位置继续保留，没有脱标。

### 绝对定位（absolute）

绝对定位是元素在移动位置的时候，是相对它的祖先元素来说的

语法：

```
选择器 { position: absolute; }
```

绝对定位的特点：

1. 如果没有祖先元素或者祖先元素没有定位，则以浏览器为准定位（Document文档）
2. 如果祖先元素有定位（相对、绝对、固定定位），则以最近一级有定位祖先元素为参考点移动位置
3. 绝对定位不在占有原先的位置（脱标）

### 子绝父相

> 子级是绝对定位的话，父级要用相对定位

1. 子级绝对定位，不会占有位置，可以放到父盒子里面的任何一个位置，不会影响其他的兄弟盒子。
2. 父盒子需要加定位限制子盒子在父盒子内显示。
3. 父盒子布局的时候，需要占有位置，因此父亲只能是相对定位。

当然子绝父相不是永远不变的，如果父元素不需要占有位置，子绝父绝也会遇到。

示例：

​	父盒子没有使用定位，子盒子就相对浏览器定位

![](Snipaste_2020-07-12_15-26-20.png)

父盒子使用定位后：

![](Snipaste_2020-07-12_15-37-06.png)

### 固定定位

固定定位元素固定于浏览器可视区的位置。主要使用场景：可以在浏览器页面滚动时元素的位置不发生变化。

语法：

```
选择器 { position: fixed;}
```

固定定位的特点：

1. 以浏览器的可视窗口为参照点移动元素
   + 跟父元素没有任何关系
   + 不随滚动条滚动
2. 固定定位不占有原先的位置（脱标）

#### 小技巧-固定在版心右侧的位置

1. 让固定定位的盒子left:50%.走到浏览器可视区域的一半
2. 让固定定位的盒子margin-left：版心宽度的一半距离. 多走版心宽度的一半

### 粘性定位（sticky）

粘性定位可以被认为是相对定位和固定定位的混合。

语法：

```
选择器 { position: sticky;top: 10px;}
```

特点：

* 以浏览器的可视窗户口为参照点移动元素（固定定位的特点）
* 占有原先的位置（相对定位的特点）
* 必须添加 top、left、right、bottom其中的一个才有效

跟页面滚动搭配使用。兼容性差、IE不支持。

最右边的那个盒子就是`sticky`的效果

![](1.gif)

### 定位叠放次序（z-index）

在使用定位布局时，可能会出现盒子盒子重叠的情况。此时，可以使用z-indx来控制盒子的前后次序（z轴）

语法：

```
选择器{z-index : 1;} 
```

+ 数值可以是整数、负数或零，默认为auto，数值越大，盒子越靠上
+ 如果属性值相同，则按照书写顺序，后来者居上
+ 数字后面不能加单位
+ 只用定位的盒子才有 z-index 属性

### 定位的扩展

#### 绝对定位的盒子实现水平居中（固定定位的盒子贴在版心右侧）

不能通过`margin:0 auto`实现

通过：

1. left: 50% 让盒子的左侧移动到父元素的水平中心位置

2. margin-left: -100px 让盒子向左移动自身宽度的一半

实现垂直居中也是这个原理

#### 定位的特殊性

绝对定位和固定定位也和浮动类似

1. 行内元素添加最对或固定定位，可以直接设置高度和宽度
2. 块级元素添加绝对或者固定定位，如果不给宽度或者高度，默认大小是内容的大小(不会占据一整行)

#### 绝对定位(固定定位)会完全压住盒子

浮动元素不同，只会压住它下面的标准流盒子，但不会压住下面标准流盒子里面的文字(图片)。

但绝对定位(固定定位)会压住下面标准流所有的内容。

浮动之所以不会压住文字，是因为浮动产生的目的是为了做文字的环绕效果的。